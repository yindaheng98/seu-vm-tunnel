version: "3"
services:
  sshd:
    build: ./openssh-server
    ports: 
      - 2222:2222
      - 22:22
      - 5900:5900
    restart: always
    volumes: 
      - ./data/id_rsa.pub:/root/.ssh/authorized_keys
    deploy:
      resources:
          limits:
            memory: 100M
    logging:
      options:
        max-size: 128k